{"version":3,"sources":["components/Filter.js","components/Person.js","components/Persons.js","components/PersonForm.js","services/person.js","components/Alert.js","components/App.js","index.js"],"names":["Filter","handleFilter","filter","onChange","value","Person","person","handleDelete","key","onClick","Persons","persons","map","id","PersonForm","handleNameChange","name","handleNumberChange","nummber","handleAdd","type","baseUrl","axios","get","then","response","data","post","delete","put","Alert","alert","className","message","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setAlert","setAlertHelper","alertState","setTimeout","useEffect","personService","initialPersons","handleUpdate","personToUpdate","window","confirm","updatedPerson","phone","returnedPerson","catch","error","personsToDisplay","toLowerCase","includes","event","target","number","preventDefault","existingPerson","find","personToDelete","_response","_error","newPersonsToDisplay","push","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.49489a86.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ handleFilter, filter }) => {\n\treturn (\n\t\t<div>\n\t\t\tfilter shown with <input onChange={handleFilter} value={filter} />\n\t\t</div>\n\t);\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst Person = ({ person, handleDelete }) => {\n\treturn (\n\t\t<p key={person['id']}>\n\t\t\t{person['name']} {person['phone']}{' '}\n\t\t\t<button onClick={() => handleDelete(person)}>delete</button>\n\t\t</p>\n\t);\n};\n\nexport default Person;\n","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({ persons, handleDelete }) => {\n\treturn persons.map((person) => (\n\t\t<Person key={person.id} person={person} handleDelete={handleDelete} />\n\t));\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst PersonForm = ({\n\thandleNameChange,\n\tname,\n\thandleNumberChange,\n\tnummber,\n\thandleAdd\n}) => {\n\treturn (\n\t\t<form>\n\t\t\t<div>\n\t\t\t\tname: <input onChange={handleNameChange} value={name} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tnumber: <input onChange={handleNumberChange} value={nummber} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type='submit' onClick={handleAdd}>\n\t\t\t\t\tadd\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nexport default PersonForm;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl);\n\treturn request.then((response) => response.data);\n};\n\nconst add = (person) => {\n\tconst request = axios.post(baseUrl, person);\n\treturn request.then((response) => response.data);\n};\n\nconst del = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`);\n\treturn request.then((response) => response.data);\n};\n\nconst update = (id, person) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, person);\n\treturn request.then((response) => response.data);\n};\n\nexport default { getAll, add, del, update };\n","import React from 'react';\n\nconst Alert = ({ alert }) => {\n\tif (alert === null) {\n\t\treturn <></>;\n\t}\n\treturn <div className={alert.className}>{alert.message}</div>;\n};\n\nexport default Alert;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './Filter';\nimport Persons from './Persons';\nimport PersonForm from './PersonForm';\nimport personService from '../services/person';\nimport Alert from './Alert';\nimport '../index.css';\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState('');\n\tconst [newNumber, setNewNumber] = useState('');\n\tconst [filter, setFilter] = useState('');\n\tconst [alert, setAlert] = useState(null);\n\n\tconst setAlertHelper = (alertState) => {\n\t\tsetAlert(alertState);\n\t\tsetTimeout(() => {\n\t\t\tsetAlert(null);\n\t\t}, 3000);\n\t};\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value);\n\t};\n\n\tconst handleAdd = (event) => {\n\t\tevent.preventDefault();\n\t\tconst existingPerson = persons.find((person) => person.name === newName);\n\t\tif (existingPerson) {\n\t\t\thandleUpdate(existingPerson);\n\t\t\treturn;\n\t\t}\n\t\tconst newPerson = { name: newName, phone: newNumber };\n\t\tpersonService\n\t\t\t.add(newPerson)\n\t\t\t.then((returnedPerson) => {\n\t\t\t\tsetPersons([...persons, returnedPerson]);\n\t\t\t\tsetNewName('');\n\t\t\t\tsetNewNumber('');\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tsetAlertHelper({\n\t\t\t\t\tmessage: error.response.data.error,\n\t\t\t\t\tclassName: 'error'\n\t\t\t\t});\n\t\t\t});\n\t\tsetAlertHelper({ message: `Added ${newName}`, className: 'success' });\n\t\tsetTimeout(() => {\n\t\t\tsetAlert(null);\n\t\t}, 3000);\n\t};\n\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\n\tconst handleFilter = (event) => {\n\t\tsetFilter(event.target.value.toLowerCase());\n\t};\n\n\tconst hook = () => {\n\t\tpersonService.getAll().then((initialPersons) => {\n\t\t\tsetPersons(initialPersons);\n\t\t});\n\t};\n\n\tuseEffect(hook, []);\n\n\tconst handleDelete = (personToDelete) => {\n\t\twindow.confirm(`Delete ${personToDelete.name} ?`);\n\t\tpersonService\n\t\t\t.del(personToDelete.id)\n\t\t\t.then((_response) => {\n\t\t\t\tsetAlertHelper({\n\t\t\t\t\tmessage: `Deleted ${personToDelete.name}`,\n\t\t\t\t\tclassName: 'success'\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((_error) => {\n\t\t\t\tsetAlertHelper({\n\t\t\t\t\tmessage: `Information of ${personToDelete.name} has already been removed from server`,\n\t\t\t\t\tclassName: 'error'\n\t\t\t\t});\n\t\t\t});\n\t\tconst newPersonsToDisplay = [];\n\t\tfor (let person of persons) {\n\t\t\tif (person.id !== personToDelete.id) {\n\t\t\t\tnewPersonsToDisplay.push(person);\n\t\t\t}\n\t\t}\n\t\tsetPersons(newPersonsToDisplay);\n\t};\n\n\tconst handleUpdate = (personToUpdate) => {\n\t\twindow.confirm(\n\t\t\t`${personToUpdate.name} is already added to phonebook, replace the old number with a new one?`\n\t\t);\n\t\tconst updatedPerson = { ...personToUpdate, phone: newNumber };\n\t\tpersonService\n\t\t\t.update(personToUpdate.id, updatedPerson)\n\t\t\t.then((returnedPerson) => {\n\t\t\t\tsetPersons(\n\t\t\t\t\tpersons.map((person) =>\n\t\t\t\t\t\tperson.id !== personToUpdate.id ? person : returnedPerson\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tsetAlertHelper({\n\t\t\t\t\tmessage: `Updated ${returnedPerson.name} phone`,\n\t\t\t\t\tclassName: 'success'\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tsetAlertHelper({\n\t\t\t\t\tmessage: error.response.data.error,\n\t\t\t\t\tclassName: 'error'\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tconst personsToDisplay =\n\t\tfilter === ''\n\t\t\t? persons\n\t\t\t: persons.filter((person) => person.name.toLowerCase().includes(filter));\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Alert alert={alert} />\n\t\t\t<Filter handleFilter={handleFilter} filter={filter} />\n\t\t\t<h3>add a new</h3>\n\t\t\t<PersonForm\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\tname={newName}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t\tnumber={newNumber}\n\t\t\t\thandleAdd={handleAdd}\n\t\t\t/>\n\t\t\t<h3>Numbers</h3>\n\t\t\t<Persons persons={personsToDisplay} handleDelete={handleDelete} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}